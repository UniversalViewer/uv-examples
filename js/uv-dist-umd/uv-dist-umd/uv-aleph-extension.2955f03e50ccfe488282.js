(window.webpackJsonpUV=window.webpackJsonpUV||[]).push([[17],{103:function(t,e,n){var o={"./al-angle-editor_31-ios.entry.js":[116,30],"./al-angle-editor_31-md.entry.js":[117,31],"./ion-action-sheet-controller.entry.js":[118,79],"./ion-action-sheet-ios.entry.js":[119,0,64],"./ion-action-sheet-md.entry.js":[120,0,65],"./ion-alert-controller.entry.js":[121,80],"./ion-alert-ios.entry.js":[122,0,49],"./ion-alert-md.entry.js":[123,0,50],"./ion-anchor.entry.js":[124,81],"./ion-avatar-ios.entry.js":[125,125],"./ion-avatar-md.entry.js":[126,126],"./ion-back-button-ios.entry.js":[127,82],"./ion-back-button-md.entry.js":[128,83],"./ion-backdrop-ios.entry.js":[129,57],"./ion-backdrop-md.entry.js":[130,58],"./ion-badge-ios.entry.js":[131,84],"./ion-badge-md.entry.js":[132,85],"./ion-buttons-ios.entry.js":[133,127],"./ion-buttons-md.entry.js":[134,128],"./ion-card-content-ios.entry.js":[135,129],"./ion-card-content-md.entry.js":[136,130],"./ion-card-header-ios.entry.js":[137,86],"./ion-card-header-md.entry.js":[138,87],"./ion-card-ios.entry.js":[139,88],"./ion-card-md.entry.js":[140,89],"./ion-card-subtitle-ios.entry.js":[141,90],"./ion-card-subtitle-md.entry.js":[142,91],"./ion-card-title-ios.entry.js":[143,92],"./ion-card-title-md.entry.js":[144,93],"./ion-checkbox-ios.entry.js":[145,59],"./ion-checkbox-md.entry.js":[146,60],"./ion-chip-ios.entry.js":[147,94],"./ion-chip-md.entry.js":[148,95],"./ion-col.entry.js":[149,131],"./ion-content.entry.js":[150,96],"./ion-datetime-ios.entry.js":[151,43],"./ion-datetime-md.entry.js":[152,44],"./ion-fab-button-ios.entry.js":[153,97],"./ion-fab-button-md.entry.js":[154,98],"./ion-fab-list.entry.js":[155,132],"./ion-fab.entry.js":[156,133],"./ion-footer-ios.entry.js":[157,134],"./ion-footer-md.entry.js":[158,135],"./ion-grid.entry.js":[159,136],"./ion-header-ios.entry.js":[160,69],"./ion-header-md.entry.js":[161,70],"./ion-img.entry.js":[162,137],"./ion-infinite-scroll-content-ios.entry.js":[163,76],"./ion-infinite-scroll-content-md.entry.js":[164,77],"./ion-infinite-scroll.entry.js":[165,138],"./ion-item-group-ios.entry.js":[166,139],"./ion-item-group-md.entry.js":[167,140],"./ion-item-option-ios.entry.js":[168,99],"./ion-item-option-md.entry.js":[169,100],"./ion-item-options-ios.entry.js":[170,71],"./ion-item-options-md.entry.js":[171,72],"./ion-item-sliding.entry.js":[172,73],"./ion-loading-controller.entry.js":[173,101],"./ion-loading-ios.entry.js":[174,0,51],"./ion-loading-md.entry.js":[175,0,52],"./ion-menu-button-ios.entry.js":[176,0,47],"./ion-menu-button-md.entry.js":[177,0,48],"./ion-menu-controller.entry.js":[178,0,75],"./ion-menu-ios.entry.js":[179,0,39],"./ion-menu-md.entry.js":[180,0,40],"./ion-menu-toggle.entry.js":[181,0,63],"./ion-modal-controller.entry.js":[182,102],"./ion-modal-ios.entry.js":[183,0,34],"./ion-modal-md.entry.js":[184,0,35],"./ion-nav-link.entry.js":[185,103],"./ion-nav-pop.entry.js":[186,104],"./ion-nav-push.entry.js":[187,105],"./ion-nav-set-root.entry.js":[188,106],"./ion-nav.entry.js":[189,33],"./ion-note-ios.entry.js":[190,107],"./ion-note-md.entry.js":[191,108],"./ion-picker-column-ios.entry.js":[192,55],"./ion-picker-column-md.entry.js":[193,56],"./ion-picker-controller.entry.js":[194,109],"./ion-picker-ios.entry.js":[195,0,66],"./ion-picker-md.entry.js":[196,0,67],"./ion-popover-controller.entry.js":[197,110],"./ion-popover-ios.entry.js":[198,0,36],"./ion-popover-md.entry.js":[199,0,37],"./ion-progress-bar-ios.entry.js":[200,61],"./ion-progress-bar-md.entry.js":[201,62],"./ion-radio_2-ios.entry.js":[202,45],"./ion-radio_2-md.entry.js":[203,46],"./ion-refresher-content.entry.js":[204,78],"./ion-refresher-ios.entry.js":[205,141],"./ion-refresher-md.entry.js":[206,142],"./ion-reorder-group.entry.js":[207,68],"./ion-reorder-ios.entry.js":[208,143],"./ion-reorder-md.entry.js":[209,144],"./ion-route-redirect.entry.js":[210,145],"./ion-route.entry.js":[211,146],"./ion-router-link.entry.js":[212,111],"./ion-router-outlet.entry.js":[213,38],"./ion-router.entry.js":[214,74],"./ion-row.entry.js":[215,147],"./ion-searchbar-ios.entry.js":[216,41],"./ion-searchbar-md.entry.js":[217,42],"./ion-segment-button-ios.entry.js":[218,148],"./ion-segment-button-md.entry.js":[219,149],"./ion-segment-ios.entry.js":[220,112],"./ion-segment-md.entry.js":[221,113],"./ion-select-popover.entry.js":[222,114],"./ion-skeleton-text.entry.js":[223,115],"./ion-slide.entry.js":[224,150],"./ion-slides-ios.entry.js":[225,151],"./ion-slides-md.entry.js":[226,152],"./ion-spinner.entry.js":[227,116],"./ion-split-pane-ios.entry.js":[228,153],"./ion-split-pane-md.entry.js":[229,154],"./ion-tabs.entry.js":[230,155],"./ion-text.entry.js":[231,117],"./ion-thumbnail.entry.js":[232,156],"./ion-title.entry.js":[233,118],"./ion-toast-controller.entry.js":[234,119],"./ion-toast-ios.entry.js":[235,0,53],"./ion-toast-md.entry.js":[236,0,54],"./ion-toolbar-ios.entry.js":[237,120],"./ion-toolbar-md.entry.js":[238,121],"./ion-virtual-scroll.entry.js":[239,157]};function i(t){if(!n.o(o,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=o[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((function(){return n(i)}))}i.keys=function(){return Object.keys(o)},i.id=103,t.exports=i},291:function(t,e,n){"use strict";n.r(e);var o,i=n(4),r=n(43);!function(t){t.SLICES="slices",t.VOLUME="volume",t.MESH="mesh"}(o||(o={}));var s,a=function(){function t(){}return t.namespace="alephExtension.",t.BOUNDING_BOX_ENABLED_CHANGED=t.namespace+"boundingBoxEnabledChanged",t.CLEAR_GRAPH=t.namespace+"clearGraph",t.CONTROLS_TYPE_CHANGED=t.namespace+"controlsTypeChanged",t.DELETE_ANGLE=t.namespace+"deleteAngle",t.DELETE_EDGE=t.namespace+"deleteEdge",t.DELETE_NODE=t.namespace+"deleteNode",t.DISPLAY_MODE_CHANGED=t.namespace+"displayModeChanged",t.GRAPH_ENABLED_CHANGED=t.namespace+"graphEnabledChangedChanged",t.LOADED=t.namespace+"loaded",t.ORIENTATION_CHANGED=t.namespace+"orientationChanged",t.RECENTER=t.namespace+"recenter",t.SELECT_NODE=t.namespace+"selectNode",t.SET_GRAPH=t.namespace+"setGraph",t.SET_NODE=t.namespace+"setNode",t.SLICES_INDEX_CHANGED=t.namespace+"slicesIndexChanged",t.SLICES_BRIGHTNESS_CHANGED=t.namespace+"slicesBrightnessChanged",t.SLICES_CONTRAST_CHANGED=t.namespace+"slicesWindowWidthChanged",t.UNITS_CHANGED=t.namespace+"unitsChanged",t.VIEWER_CHANGED=t.namespace+"viewerChanged",t.VOLUME_STEPS_CHANGED=t.namespace+"volumeStepsChanged",t.VOLUME_BRIGHTNESS_CHANGED=t.namespace+"volumeBrightnessChanged",t.VOLUME_CONTRAST_CHANGED=t.namespace+"volumeContrastChanged",t}(),l=n(71),c=n(3),u=n(102),p=(n(104),n(105),n(106),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},h=function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},f=function(t){function e(e){var n=t.call(this,e)||this;return n._alViewerReady=!1,n._state={},n._prevState={},n.attributionPosition=l.a.BOTTOM_RIGHT,n}return p(e,t),e.prototype.create=function(){return d(this,void 0,void 0,(function(){var e,n,r=this;return h(this,(function(s){switch(s.label){case 0:return this.setConfig("alephCenterPanel"),t.prototype.create.call(this),[4,Object(u.a)()];case 1:return s.sent(),Object(u.b)(window),this._alViewer=document.createElement("al-viewer"),this.$content.prepend(this._alViewer),this._alViewer.setAttribute("width","100%"),this._alViewer.setAttribute("height","100%"),e=window.self!==window.top?"lib/":"uv/lib/",this._alViewer.setAttribute("draco-decoder-path",e),this._alViewer.addEventListener("changed",(function(t){r._alViewerReady&&r._nextState(Object.assign({},t.detail,{src:r._prevState.src}))}),!1),this._alViewer.addEventListener("loaded",(function(t){r.component.publish(a.LOADED,{stackhelper:r._state.displayMode!==o.MESH?t.detail:null})}),!1),this.component.subscribe(a.CONTROLS_TYPE_CHANGED,(function(t){r._alViewer.setControlsType(t)})),this.component.subscribe(a.CLEAR_GRAPH,(function(){r._alViewer.clearGraph()})),this.component.subscribe(a.DELETE_ANGLE,(function(t){r._alViewer.deleteAngle(t)})),this.component.subscribe(a.DELETE_EDGE,(function(t){r._alViewer.deleteEdge(t)})),this.component.subscribe(a.DELETE_NODE,(function(t){r._alViewer.deleteNode(t)})),this.component.subscribe(a.DISPLAY_MODE_CHANGED,(function(t){r._alViewer.setDisplayMode(t)})),this.component.subscribe(a.GRAPH_ENABLED_CHANGED,(function(t){r._alViewer.setGraphEnabled(t)})),this.component.subscribe(a.BOUNDING_BOX_ENABLED_CHANGED,(function(t){r._alViewer.setBoundingBoxEnabled(t)})),this.component.subscribe(a.ORIENTATION_CHANGED,(function(t){r._alViewer.setOrientation(t)})),this.component.subscribe(a.RECENTER,(function(){r._alViewer.recenter()})),this.component.subscribe(a.SET_GRAPH,(function(t){r._alViewer.setGraph(t)})),this.component.subscribe(a.SET_NODE,(function(t){r._alViewer.setNode(t)})),this.component.subscribe(a.SELECT_NODE,(function(t){r._alViewer.selectNode(t)})),this.component.subscribe(a.SLICES_INDEX_CHANGED,(function(t){r._alViewer.setSlicesIndex(t)})),this.component.subscribe(a.SLICES_BRIGHTNESS_CHANGED,(function(t){r._alViewer.setVolumeBrightness(t)})),this.component.subscribe(a.SLICES_CONTRAST_CHANGED,(function(t){r._alViewer.setVolumeContrast(t)})),this.component.subscribe(a.UNITS_CHANGED,(function(t){r._alViewer.setUnits(t)})),this.component.subscribe(a.VOLUME_STEPS_CHANGED,(function(t){r._alViewer.setVolumeSteps(t)})),this.component.subscribe(a.VOLUME_BRIGHTNESS_CHANGED,(function(t){r._alViewer.setVolumeBrightness(t)})),this.component.subscribe(a.VOLUME_CONTRAST_CHANGED,(function(t){r._alViewer.setVolumeContrast(t)})),c.a.waitFor((function(){return void 0!==window.customElements}),(function(){customElements.whenDefined("al-viewer").then((function(){r._alViewerReady=!0,r._alViewer.load(r._state.src,r._state.displayMode)}))})),n=this,this.component.subscribe(i.a.OPEN_EXTERNAL_RESOURCE,(function(t,e){n.openMedia(e)})),[2]}}))}))},e.prototype.openMedia=function(t){var e=this;this.extension.getExternalResources(t).then((function(){var t=e.extension.helper.getCurrentCanvas().getContent();if(t.length){var n=t[0].getBody();if(n.length){var r=n[0],s=r.getFormat(),a=s&&"model/gltf+json"===s.toString()?o.MESH:o.SLICES;e._nextState({src:r.id,displayMode:a})}}e.component.publish(i.a.OPENED_MEDIA)}))},e.prototype._nextState=function(t){var e=this;this._state=Object.assign({},this._state,t),this._state.src&&this._state.src!==this._prevState.src&&c.a.waitFor((function(){return e._alViewerReady}),(function(){e._alViewer.load(e._state.src)})),this.component.publish(a.VIEWER_CHANGED,this._state),this._prevState=Object.assign({},this._state)},e.prototype.resize=function(){t.prototype.resize.call(this),console.log("resize"),this._alViewerReady&&this._state.srcLoaded&&this._alViewer.resize()},e}(r.a),E=n(54),_=n(37),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b=function(t){function e(e){return t.call(this,e)||this}return y(e,t),e.prototype.create=function(){this.setConfig("downloadDialogue"),t.prototype.create.call(this)},e.prototype.open=function(e){t.prototype.open.call(this,e),this.addEntireFileDownloadOptions(),this.updateNoneAvailable(),this.resize()},e.prototype.isDownloadOptionAvailable=function(e){return t.prototype.isDownloadOptionAvailable.call(this,e)},e}(_.a),m=n(38),g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),C=function(t){function e(e){return t.call(this,e)||this}return g(e,t),e.prototype.create=function(){this.setConfig("mobileFooterPanel"),t.prototype.create.call(this)},e.prototype.resize=function(){t.prototype.resize.call(this),this.$options.css("left",Math.floor(this.$element.width()/2-this.$options.width()/2))},e}(m.a),v=n(55),w=n(56),O=n(44),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),N=function(t){function e(e){return t.call(this,e)||this}return j(e,t),e.prototype.create=function(){this.setConfig("settingsDialogue"),t.prototype.create.call(this)},e}(O.a),A=n(45),D=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=function(t){function e(e){return t.call(this,e)||this}return D(e,t),e.prototype.create=function(){this.setConfig("shareDialogue"),t.prototype.create.call(this)},e.prototype.update=function(){t.prototype.update.call(this),this.code=this.extension.getEmbedScript(this.options.embedTemplate,this.currentWidth,this.currentHeight),this.$code.val(this.code)},e.prototype.resize=function(){t.prototype.resize.call(this)},e}(A.a),L=n(46),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),T=function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{l(o.next(t))}catch(t){r(t)}}function a(t){try{l(o.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((o=o.apply(t,e||[])).next())}))},R=function(t,e){var n,o,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},I=function(t){function e(e){return t.call(this,e)||this}return S(e,t),e.prototype.create=function(){return T(this,void 0,void 0,(function(){var e=this;return R(this,(function(n){switch(n.label){case 0:return this.setConfig("alephLeftPanel"),t.prototype.create.call(this),[4,Object(u.a)()];case 1:return n.sent(),Object(u.b)(window),this._alControlPanel=document.createElement("al-control-panel"),this._alControlPanel.setAttribute("src-tab-enabled",this.config.options.srcTabEnabled),this._alControlPanel.setAttribute("settings-tab-enabled",this.config.options.settingsTabEnabled),this._alControlPanel.setAttribute("graph-tab-enabled",this.config.options.graphTabEnabled),this._alControlPanel.setAttribute("console-tab-enabled",this.config.options.consoleTabEnabled),this._alControlPanel.setAttribute("height","100%"),this.$main.addClass("disabled"),this.$main.append(this._alControlPanel),this.setTitle(this.content.title),this.component.subscribe(a.LOADED,(function(t){e.$main.removeClass("disabled")})),this.component.subscribe(a.VIEWER_CHANGED,(function(t){e._alControlPanel.angles=t.angles,e._alControlPanel.boundingBoxEnabled=t.boundingBoxEnabled,e._alControlPanel.controlsType=t.controlsType,e._alControlPanel.displayMode=t.displayMode,e._alControlPanel.edges=t.edges,e._alControlPanel.graphEnabled=t.graphEnabled,e._alControlPanel.nodes=t.nodes,e._alControlPanel.selected=t.selected,e._alControlPanel.units=t.units,e._alControlPanel.slicesIndex=t.slicesIndex,e._alControlPanel.slicesBrightness=t.volumeWindowCenter,e._alControlPanel.slicesContrast=t.volumeWindowWidth,e._alControlPanel.volumeSteps=t.volumeSteps,e._alControlPanel.volumeBrightness=t.volumeWindowCenter,e._alControlPanel.volumeContrast=t.volumeWindowWidth})),this._alControlPanel.addEventListener("boundingBoxEnabledChanged",(function(t){e.component.publish(a.BOUNDING_BOX_ENABLED_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("controlsTypeChanged",(function(t){e.component.publish(a.CONTROLS_TYPE_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("deleteAngle",(function(t){e.component.publish(a.DELETE_ANGLE,t.detail)}),!1),this._alControlPanel.addEventListener("deleteEdge",(function(t){e.component.publish(a.DELETE_EDGE,t.detail)}),!1),this._alControlPanel.addEventListener("deleteNode",(function(t){e.component.publish(a.DELETE_NODE,t.detail)}),!1),this._alControlPanel.addEventListener("displayModeChanged",(function(t){e.component.publish(a.DISPLAY_MODE_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("graphEnabledChanged",(function(t){e.component.publish(a.GRAPH_ENABLED_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("graphSubmitted",(function(t){var n=JSON.parse(t.detail);n&&(e.component.publish(a.CLEAR_GRAPH),e.component.publish(a.SET_GRAPH,n))}),!1),this._alControlPanel.addEventListener("orientationChanged",(function(t){e.component.publish(a.ORIENTATION_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("recenter",(function(t){e.component.publish(a.RECENTER,t.detail)}),!1),this._alControlPanel.addEventListener("saveNode",(function(t){e.component.publish(a.SET_NODE,t.detail)}),!1),this._alControlPanel.addEventListener("selectedChanged",(function(t){e.component.publish(a.SELECT_NODE,t.detail)}),!1),this._alControlPanel.addEventListener("slicesIndexChanged",(function(t){e.component.publish(a.SLICES_INDEX_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("slicesBrightnessChanged",(function(t){e.component.publish(a.VOLUME_BRIGHTNESS_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("slicesContrastChanged",(function(t){e.component.publish(a.VOLUME_CONTRAST_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("unitsChanged",(function(t){e.component.publish(a.UNITS_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("volumeStepsChanged",(function(t){e.component.publish(a.VOLUME_STEPS_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("volumeBrightnessChanged",(function(t){e.component.publish(a.VOLUME_BRIGHTNESS_CHANGED,t.detail)}),!1),this._alControlPanel.addEventListener("volumeContrastChanged",(function(t){e.component.publish(a.VOLUME_CONTRAST_CHANGED,t.detail)}),!1),[2]}}))}))},e.prototype.expandFullStart=function(){t.prototype.expandFullStart.call(this),this.component.publish(i.a.LEFTPANEL_EXPAND_FULL_START)},e.prototype.expandFullFinish=function(){t.prototype.expandFullFinish.call(this),this.component.publish(i.a.LEFTPANEL_EXPAND_FULL_FINISH)},e.prototype.collapseFullStart=function(){t.prototype.collapseFullStart.call(this),this.component.publish(i.a.LEFTPANEL_COLLAPSE_FULL_START)},e.prototype.collapseFullFinish=function(){t.prototype.collapseFullFinish.call(this),this.component.publish(i.a.LEFTPANEL_COLLAPSE_FULL_FINISH)},e.prototype.resize=function(){t.prototype.resize.call(this),this._alControlPanel&&(this._alControlPanel.tabContentHeight=this.$main.height()-68+"px")},e}(L.a),G=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),e.prototype.create=function(){var e=this;t.prototype.create.call(this),this.component.subscribe(i.a.CANVAS_INDEX_CHANGED,(function(t,n){e.viewCanvas(n)}))},e.prototype.createModules=function(){t.prototype.createModules.call(this),this.isHeaderPanelEnabled()?this.headerPanel=new v.a(this.shell.$headerPanel):this.shell.$headerPanel.hide(),this.isLeftPanelEnabled()?this.leftPanel=new I(this.shell.$leftPanel):this.shell.$leftPanel.hide(),this.centerPanel=new f(this.shell.$centerPanel),this.isRightPanelEnabled()?this.rightPanel=new w.a(this.shell.$rightPanel):this.shell.$rightPanel.hide(),this.isFooterPanelEnabled()?(this.footerPanel=new m.a(this.shell.$footerPanel),this.mobileFooterPanel=new C(this.shell.$mobileFooterPanel)):this.shell.$footerPanel.hide(),this.$shareDialogue=$('<div class="overlay share" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$shareDialogue),this.shareDialogue=new P(this.$shareDialogue),this.$downloadDialogue=$('<div class="overlay download" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$downloadDialogue),this.downloadDialogue=new b(this.$downloadDialogue),this.$settingsDialogue=$('<div class="overlay settings" aria-hidden="true"></div>'),this.shell.$overlays.append(this.$settingsDialogue),this.settingsDialogue=new N(this.$settingsDialogue),this.isHeaderPanelEnabled()&&this.headerPanel.init(),this.isLeftPanelEnabled()&&this.leftPanel.init(),this.isRightPanelEnabled()&&this.rightPanel.init(),this.isFooterPanelEnabled()&&this.footerPanel.init()},e.prototype.render=function(){t.prototype.render.call(this)},e.prototype.IsOldIE=function(){var t=window.browserDetect.browser,e=window.browserDetect.version;return"Explorer"===t&&e<=11},e.prototype.isLeftPanelEnabled=function(){return!this.IsOldIE()&&c.b.getBool(this.data.config.options.leftPanelEnabled,!0)},e.prototype.getEmbedScript=function(t,e,n){var o=this.getAppUri()+"#?manifest="+this.helper.manifestUri;return c.n.format(t,o,e.toString(),n.toString())},e}(E.a);e.default=H},36:function(t,e,n){"use strict";var o;n.d(e,"a",(function(){return o})),function(t){t.CANVAS_RENDERINGS="canvasRenderings",t.CURRENT_VIEW="currentView",t.ENTIRE_DOCUMENT_AS_PDF="entireDocumentAsPdf",t.ENTIRE_DOCUMENT_AS_TEXT="entireDocumentAsText",t.ENTIRE_FILE_AS_ORIGINAL="entireFileAsOriginal",t.IMAGE_RENDERINGS="imageRenderings",t.MANIFEST_RENDERINGS="manifestRenderings",t.RANGE_RENDERINGS="rangeRenderings",t.SELECTION="selection",t.UNKNOWN="unknown",t.WHOLE_IMAGE_HIGH_RES="wholeImageHighRes",t.WHOLE_IMAGE_LOW_RES="wholeImageLowRes",t.WHOLE_IMAGES_HIGH_RES="wholeImagesHighRes"}(o||(o={}))},37:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o,i=n(4),r=n(29),s=n(36),a=n(3),l=n(1),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t){function e(e){return t.call(this,e)||this}return c(e,t),e.prototype.create=function(){var e=this;this.setConfig("downloadDialogue"),t.prototype.create.call(this),this.openCommand=i.a.SHOW_DOWNLOAD_DIALOGUE,this.closeCommand=i.a.HIDE_DOWNLOAD_DIALOGUE,this.component.subscribe(this.openCommand,(function(t){e.open(t)})),this.component.subscribe(this.closeCommand,(function(){e.close()})),this.$title=$("<h1>"+this.content.title+"</h1>"),this.$content.append(this.$title),this.$noneAvailable=$('<div class="noneAvailable">'+this.content.noneAvailable+"</div>"),this.$content.append(this.$noneAvailable),this.$downloadOptions=$('<ol class="options"></ol>'),this.$content.append(this.$downloadOptions),this.$footer=$('<div class="footer"></div>'),this.$content.append(this.$footer),this.$termsOfUseButton=$('<a href="#">'+this.extension.data.config.content.termsOfUse+"</a>"),this.$footer.append(this.$termsOfUseButton),this.$termsOfUseButton.onPressed((function(){e.component.publish(i.a.SHOW_TERMS_OF_USE)})),this.$element.hide(),this.updateTermsOfUseButton()},e.prototype.addEntireFileDownloadOptions=function(){if(this.isDownloadOptionAvailable(s.a.ENTIRE_FILE_AS_ORIGINAL)){this.$downloadOptions.empty();for(var t=this.extension.helper.getCurrentCanvas(),e=!1,n=t.getRenderings(),o=0;o<n.length;o++){var i=n[o],r=i.getFormat(),a="";r&&(a=r.toString()),this.addEntireFileDownloadOption(i.id,l.LanguageMap.getValue(i.getLabel()),a),e=!0}if(!e){var c=!1,u=t.getContent();for(o=0;o<u.length;o++){var p=u[o].getBody();if(p.length)(a=p[0].getFormat())&&(this.addEntireFileDownloadOption(p[0].id,"",a.toString()),c=!0)}c||this.addEntireFileDownloadOption(t.id,"","")}}},e.prototype.addEntireFileDownloadOption=function(t,e,n){var o;o=n?a.f.simplifyMimeType(n):this.getFileExtension(t),e||(e=this.content.entireFileAsOriginal),o&&(e+=" ("+o+")"),this.$downloadOptions.append('<li><a href="'+t+'" target="_blank" download tabindex="0">'+e+"</li>")},e.prototype.resetDynamicDownloadOptions=function(){this.renderingUrls=[],this.renderingUrlsCount=0,this.$downloadOptions.find("li.dynamic").remove()},e.prototype.getDownloadOptionsForRenderings=function(t,e,n){for(var o=t.getRenderings(),i=[],r=0;r<o.length;r++){var s=o[r];if(s){var c=l.LanguageMap.getValue(s.getLabel(),this.extension.getLocale()),u="downloadOption"+ ++this.renderingUrlsCount;c?c+=" ({0})":c=e;var p=a.f.simplifyMimeType(s.getFormat().toString());c=a.n.format(c,p),this.renderingUrls[u]=s.id;var d=$('<li class="option dynamic"><input id="'+u+'" data-mime="'+p+'" title="'+c+'" type="radio" name="downloadOptions" tabindex="0" /><label for="'+u+'">'+c+"</label></li>");i.push({type:n,button:d})}}return i},e.prototype.getSelectedOption=function(){return this.$downloadOptions.find("li.option input:checked")},e.prototype.getCurrentResourceId=function(){return this.extension.helper.getCurrentCanvas().externalResource.data.id},e.prototype.getCurrentResourceFormat=function(){var t=this.getCurrentResourceId();return t.substr(t.lastIndexOf(".")+1).toLowerCase()},e.prototype.updateNoneAvailable=function(){this.$downloadOptions.find("li:visible").length?this.$noneAvailable.hide():this.$noneAvailable.show()},e.prototype.updateTermsOfUseButton=function(){var t=this.extension.helper.getRequiredStatement();a.b.getBool(this.extension.data.config.options.termsOfUseEnabled,!1)&&t&&t.value?this.$termsOfUseButton.show():this.$termsOfUseButton.hide()},e.prototype.getFileExtension=function(t){var e=t.split(".").pop();return e.length>5||-1!==e.indexOf("/")?null:e},e.prototype.isMediaDownloadEnabled=function(){return this.extension.helper.isUIEnabled("mediaDownload")},e.prototype.isDownloadOptionAvailable=function(t){switch(t){case s.a.ENTIRE_FILE_AS_ORIGINAL:return this.isMediaDownloadEnabled()}return!0},e.prototype.close=function(){t.prototype.close.call(this)},e.prototype.resize=function(){this.setDockedPosition()},e}(r.a)}}]);